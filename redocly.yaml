# See https://redocly.com/docs/cli/configuration/
extends:
  - recommended

apis:
  rest-api@5.0:
    root: './api-specs/rest-api/5.0/openapi.yaml'
    extends:
      - recommended
    rules:
      # A sample custom rule. Read more about rules: https://redocly.com/docs/cli/rules/
      rule/operation-description:
        subject: 
          type: Operation
          property: description
        assertions:
          defined: true
          minLength: 10
      tag-description: error
      security-defined: error
      no-ambiguous-paths: error
      operation-2xx-response: error
      operation-tag-defined: error
      path-not-include-query: error
  standard-rest-api@5.0:
    root: './api-specs/standard-rest-api/5.0/openapi.yaml'
    extends:
      - recommended     
    rules:
      # metadata rules
      no-empty-servers: error
      rule/operation-description:
        subject: 
          type: Operation
          property: description
        assertions:
          defined: true
          minLength: 10
      tag-description: error
      operation-tag-defined: error
      no-example-value-and-externalValue: error

      #security rules
      security-defined: error

      # path rules
      no-ambiguous-paths: error
      paths-kebab-case: error
      no-http-verbs-in-paths: error
      path-not-include-query: error

      # response rules
      operation-2xx-response: error
      operation-4xx-response: error

      # parameter rules
      boolean-parameter-prefixes:
        severity: error
        prefixes: ["can", "is", "has"]
      no-enum-type-mismatch: error

      # component rules
      component-name-unique: error
  ecf-api@1.0:
    root: './api-specs/ecf-api/1.0/openapi.yaml'
    extends:
      - recommended     
    rules:
      # metadata rules
      no-empty-servers: error
      rule/operation-description:
        subject: 
          type: Operation
          property: description
        assertions:
          defined: true
          minLength: 10
      tag-description: error
      operation-tag-defined: error
      no-example-value-and-externalValue: error

      #security rules
      security-defined: error

      # path rules
      no-ambiguous-paths: error
      paths-kebab-case: error
      no-http-verbs-in-paths: error
      path-not-include-query: error

      # response rules
      operation-2xx-response: error
      operation-4xx-response: error

      # parameter rules
      boolean-parameter-prefixes:
        severity: error
        prefixes: ["can", "is", "has"]
      no-enum-type-mismatch: error

      # component rules
      component-name-unique: error
theme:
  openapi:
    generateCodeSamples:
      languages:
        - lang: curl
        - lang: Node.js
        - lang: Python